function create_VIM_EXECUTOR(r,n){function e(r){return z().eq(r)}function t(r){var n=G(r),e=function(r){var n=c(r);return!K(r).hasClass("space")&&!Gr.exists([" ",",",".","'"],function(r){return r===n})};return kr(0,n,e,!0)}function i(r,n){var e=er(r),t=n+1>e.length?e.length-1:n;return e.eq(t)}function o(r){var n=r+1,e=D().length,t=n+1>e?e-1:n-1;return X(t)}function u(){$(".previousCursor",n).removeClass("previousCursor"),P().addClass("previousCursor")}function c(r){return r.text()}function a(r){return r.hasClass("line")}function f(n,e){$(r.getChar(n)).insertBefore(e)}function d(){return $(Mr.line,n).clone(!0)}function s(r){$(".text").html(r)}function h(n,e){var t=K(n),i=K(e),o=V(t),u=o.find(Mr.word),c=u.length,a=u.index(t),f=u.index(i),d=o.find(Mr.word).filter(function(r){return a<=r&&r<=f}),s=d.detach();return 0===a&&f+1===c&&o.append(r.getSpaceWord()),A(nr(er(o))),s}function v(r,n){var e=K(r),t=K(n),i=V(e),o=i.find(Mr.word).index(e),u=i.find(Mr.word).index(t),c=i.find(Mr.word).filter(function(r){return o<=r&&r<=u});return c.map(function(){return l($(this))})}function l(r){if(r.length>1)return r.map(function(){var r=$(this).clone(!0);return r.find(Mr.cursor).removeClass("cursor"),r});1===r.length&&r.get(0).length>0&&(r=r.get(0));var n=r.clone(!0);return n.find(Mr.cursor).removeClass("cursor"),n}function m(r,n){var e=n.find(Mr.word).clone(!0);A(cr(r)),W(I(),P()),A(fr(P())),r.append(e),n.remove(),Wr(r)}function g(r){var e=$(".char["+r+"]",n);0!==e.length&&(A(ar(P())),e.closest(Mr.word).hasClass("space")&&e.remove())}function x(r,n){return r.attr(n,"true"),r}function C(r,n){return void 0!==r.attr(n)}function p(r){return r.find(".char:first")}function w(r){return r.hasClass("cursor")}function q(n){return void 0!==n?r.getLineWithGivenContent(n):$(r.getRows(" "))}function I(){return $(r.getSpaceWord())}function W(r,n){r.insertAfter(n)}function T(r,n){r.insertBefore(n)}function L(r,n){n.insertAfter(r),r.remove()}function S(r,n){w(r)?(L(r,n),H(n)):L(r,n)}function B(e){var t=y();if(Lr(e),0===e){var i=$(".line:eq("+t+")",n);$(r.getSpaceWord()).appendTo(i),A(i.find(".char:first"))}else{var o=$(".line:eq("+t+") .char:eq("+(e-1)+")",n);A(o)}E(k())}function E(r){r.find(Mr.word).filter(function(){return 0===$(this).find(Mr.character).length&&!$(this).hasClass("space")}).remove()}function y(){return $(Mr.line,n).index(k())}function A(r){0!==r.length&&(J(),H(r))}function F(r){A(z().eq(r))}function R(r,n,e,t){function i(r,n,i,o){if(i!==o){var u=[r];z().each(function(r){O(r,i,o,e,t)&&u.push($(this))}),Gr.for_each(u,function(r){r.remove()}),qr(),Ir();var c=z().length;0===c?yr():i+1>=c?(F(c-1),A(ur(P()))):F(i)}}e=void 0===e||e,t=void 0===t||t;var o=U(r),u=U(n);o<0||u<0||(o<u?i(r,n,o,u):i(n,r,u,o))}function O(r,n,e,t,i){var o=t?n<=r:n<r,u=i?r<=e:r<e;return o&&u}function N(r,n){}function b(){return U(P())}function P(){return $(Mr.cursor,n)}function _(){return P().closest(Mr.word)}function k(){return P().closest(Mr.line)}function U(r){return z().index(r)}function z(r){return void 0===r?$(Mr.character,n):r.find(Mr.character)}function G(r){return er(V(r))}function M(r){return G(r).index(r)}function V(r){return r.closest(Mr.line)}function j(r){return D().index(r)}function D(){return $(Mr.line,n)}function X(r){return $(".line:eq("+r+")",n)}function H(r){r.addClass("cursor")}function J(){$(Mr.cursor,n).removeClass("cursor")}function K(r){return r.closest(Mr.word)}function Q(){return $(Mr.word,n)}function Y(r){return r.find(Mr.word)}function Z(r){return Q().index(r)}function rr(r){return r.eq(r.length-1)}function nr(r){return r.eq(0)}function er(r){return r.find(Mr.character)}function tr(r){return r.hasClass("space")}function ir(r,n){var e=or(r,n);return er(r).eq(e)}function or(r,n){var e=er(r);return n<0?0:n>=e.length?e.length-1:n}function ur(r){return r.closest(Mr.line).find(".char:first")}function cr(r){return r.closest(Mr.line).find(".char:last")}function ar(r,n){var e=xr(n,1),t=G(r),i=t.index(r),o=i-e>=0?i-e:0;return t.eq(o)}function fr(r,n){var e=xr(n,1),t=G(r),i=t.index(r),o=i+e<t.length?i+e:t.length-1;return t.eq(o)}function dr(r,n){function e(r,n,e){return r-n>=0?r-n:0}var t=xr(n,1);return hr(r,t,e)}function sr(r,n){function e(r,n,e){return r+n<e?r+n:e-1}var t=xr(n,1);return hr(r,t,e)}function hr(r,n,e){var t=j(V(r)),i=M(r),o=D(),u=e(t,n,o.length),c=o.eq(u);return ir(c,i)}function vr(){var r=lr();if(r){var n=r.closest(Mr.word);1===n.find(Mr.character).length?n.remove():r.remove(),Wr(k())}}function lr(){var r=k(),n=r.find(Mr.character),e=n.index(P());return e>0&&r.find(".char:eq("+(e-1)+")")}function mr(r){var n=Z(K(r));if(n+1===Q().length)return!1;var e=Q().eq(1+n);return tr(e)?mr(e):e}function gr(r){var n=Z(K(r));if(0===n)return!1;var e=Q().eq(n-1);return tr(e)?gr(e):e}function $r(r){var n=nr(K(r).find(Mr.character));if(0===Z(K(n)))return n;var e=K(pr(n));return rr(e.find(Mr.character))}function xr(r,n){return void 0!==r?r:n}function Cr(r,n){var e=xr(n,1);if(e<=0)return r;var t=K(r),i=t.find(Mr.character),o=i.index(r);if(o+1===i.length){var u=mr(r);return u?Cr(u,e):r}var c=rr(i);return Cr(c,e-1)}function pr(r,n){var e=xr(n,1);if(e<=0)return r;var t=K(r),i=t.find(Mr.character),o=i.index(r);if(0===o){var u=gr(r);return u?pr(nr(u.find(Mr.character)),e-1):r}return pr(nr(i),e-1)}function wr(r,n){var e=xr(n,1);if(e<=0)return r;var t=mr(r);if(t)return wr(nr(t.find(Mr.character)),e-1);var i=rr(K(r).find(Mr.character));return{lastPossible:i}}function qr(){$(Mr.word,n).each(function(){0===$(this).children(Mr.character).length&&$(this).remove()})}function Ir(){D().each(function(){0===$(this).children(Mr.word).length&&$(this).remove()})}function Wr(r){var e=$(".word:not(.space) + .word:not(.space)",n);if(e.length>0){var t=r.find(Mr.word).index(e)-1;if(t>0){var i=r.find(Mr.word+":eq("+t+")"),o=e.html();e.remove(),$(o).appendTo(i)}}}function Tr(){var r=k(),e=r.find(".char"),t=$(Mr.cursor,n);return e.index(t)}function Lr(r){var n=k().find(".char").filter(function(n){return n>=r}),e=[];n.each(function(){var r=$(this).closest(".word");e.push(r),$(this).remove()}),Gr.for_each(e,function(r){r.length>0&&0===r.find(".char").length&&r.remove()})}function Sr(){var e=Tr(),t=k(),i=y(),o=t.find(Mr.character).length;return 1===o?($(Mr.line,n).eq(i).append(r.getSpaceWord()),Br(),void A($(Mr.line,n).eq(i).find(".char:first"))):(Br(),A(o===e+1?$(Mr.line,n).eq(i).find(Mr.character).eq(e-1):$(Mr.line,n).eq(i).find(Mr.character).eq(e)),void Wr(t))}function Br(){var e=_(),t=k();t.find(Mr.character).length<=1?t.remove():e.find(Mr.character).length<=1?e.remove():P().remove(),0===z().length&&($(".text",n).html(r.getEmptyText()),$(".char:first",n).addClass("cursor"))}function Er(n,e){S(n,$(r.getChar(e)))}function yr(){$(".text",n).html(r.getEmptyText()),A($(".char:first",n))}function Ar(e){$(".text",n).html(r.getText(e))}function Fr(){var r=y(),e=r+1>=$(".line",n).length;if(k().remove(),0===r){var t=X(r);0===t.length?yr():A(t.find(".char:first"))}else A(e?$(".line:last .char:last",n):X(r).find(".char:first"))}function Rr(){var n=_(),e=P(),t=n.find(".char").index(e),i=Nr(n,t),o=br(n,t-1),u=Or(i),c=Or(o);""!==u.text()&&u.insertBefore(n),""!==c.text()&&c.insertAfter(n),$(r.getSpaceWord()).insertBefore(n),n.remove()}function Or(r){var n=$('<div class="word"></div>');return n.append(r),n}function Nr(r,n){return r.find(".char").filter(function(r){return r<n})}function br(r,n){return r.find(".char").filter(function(r){return r>n})}function Pr(r,n,e,t){t=void 0!==t?t:1;var i=0,o=e.index(n),u=r,c=!1;return e.each(function(r){if(!c&&r>=o){var n=$(this).text();n===u&&(i+=1,i>=t&&(c=$(this)))}}),c}function _r(r,n,e){var t=$(Gr.reverse(e));return Pr(r,n,t)}function kr(r,n,e,t){t=void 0!==t&&t;for(var i=r+(t?0:1),o=n.length,u=i;u<o;u++){var c=n.eq(u);if(e(c))return c}for(var u=0;u<i;++u){var c=n.eq(u);if(e(c))return c}return!1}function Ur(r,n,e){var t=$(Gr.reverse(n));return kr(n.length-r-1,t,e)}function zr(){var r=P(),n=b(),e=r.text(),t=Vr[e];if(void 0!==t){var i=e,o=t,u=z().filter(function(r){return r>n}),c=1;return kr(0,u,function(r){var n=$(r).text();return n===o?c-=1:n==i&&(c+=1),0===c})}var i=jr[e];if(void 0===i)return!1;var o=i,t=e,a=b(),u=z().filter(function(r){return r<a}),c=1;return Ur(a,u,function(r){var n=$(r).text();return n===o?c-=1:n==t&&(c+=1),0===c})}var Gr=VIM_GENERIC,Mr={line:".line",character:".char",word:".word",cursor:".cursor"},Vr={"(":")","{":"}","[":"]"},jr={")":"(","}":"{","[":"]"};return{cursor:P,cursorIndex:b,firstChar:p,previousWord:gr,nextWord:mr,currentWord:_,currentRow:k,currentColumnIndex:Tr,currentRowIndex:y,charIndex:U,charByIndex:e,chars:z,charsInSameLine:G,colIndex:M,isLine:a,line:V,lineIndex:j,lines:D,lineByIndex:X,setCursor:H,removeCurrentCursor:J,word:K,words:Q,wordsInRow:Y,wordIndex:Z,charsInLine:er,last:rr,first:nr,text:c,getCharsBefore:Nr,getCharsAfter:br,findBackwardStartingFrom:_r,findForwardStartingFrom:Pr,findForward:kr,findBackward:Ur,replaceTargetWithInput:Er,insertAfter:W,insertBefore:T,removeBetween:R,copyBetween:N,copyLineContent:v,cutLineContent:h,replace:S,changeCursorToIndex:F,changeCursorTo:A,updatePreviousCursor:u,insertCharBefore:f,moveToEndOfLine:cr,moveToStartOfLine:ur,moveDown:sr,moveUp:dr,moveLeft:ar,moveRight:fr,moveToLineNumber:o,moveToColumnIndex:i,findCorrespondingParentheses:zr,findFirstNonBlankCharInLine:t,moveToEndOfWord:Cr,moveToStartOfWord:pr,moveToStartOfNextWord:wr,moveToEndOfPreviousWord:$r,copyContent:d,setContent:s,withAttribute:x,hasAttribute:C,removeAllWithAttribute:g,createNewChar:I,createNewRow:q,removePreviousCharInCurrentLine:vr,copy:l,joinLines:m,divideCurrentWordWithSpace:Rr,initializeEmptyText:yr,initializeWithText:Ar,removeStartingFrom:B,mergeWordsWithoutSpace:Wr,removeCurrentLine:Fr,removeCharUnderCursor:Sr,removeCharactersFromCurrentLineStartingFrom:Lr}}