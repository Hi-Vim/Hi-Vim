### 新建一个文件试试看——Vim的模式介绍

Vim 与普通编辑器最大的不同就是它具有多种编辑模式，在插入模式（INSERT）下用于类似与普通编辑器的编辑修改。在普通模式下可以使用指令快捷的进行一些快捷的操作，而不需要使用到鼠标。

#### 新建

打开 Vim 界面显示如下

![](http://o8l6oohcu.qnssl.com/hi-vim:install-vim-open.png)

注意：以`～`开始的行表示该行在原文件中不存在。

这个时候我们使用`:e [path/filename]`命令来新建／打开一个文件。

首先输入`:`，你会发现 Vim 把光标移动到了窗口的最后一行。像这样

![](http://o8l6oohcu.qnssl.com/hi-vim:install-command.png)

这里被称为输入“冒号命令”（以冒号开头的命令）的地方。然后回车结束命令输入并执行命令。

比如我们输入`e ./a.txt`，该命令将会在当前目录下新建`a.txt`文件（不知道当前目录在哪里，请看这里？），如果当前目录有`a.txt`这个文件，Vim则会打开该文件。

![](http://o8l6oohcu.qnssl.com/hi-vim:create-file-1.png)

![](http://o8l6oohcu.qnssl.com/hi-vim:create-file-2.png)

如上图底部显示的文字即表示创建了这样一个新文件。

#### 编辑

然后按`i`键，界面会变成这样

![](http://o8l6oohcu.qnssl.com/hi-vim:insert-1.png)

在底部出现了“INSERT”字样。这个时候就和想记事本那样直接输入内容了。

![](http://o8l6oohcu.qnssl.com/hi-vim:insert-2.png)

#### 保存

输入完了我们想要保存怎么办了？保存的命令是`:w`，但是这个时候我们不能直接输入“:w”，那样的话会输入到当前文本。需要先按一下`<ESC>`（即键盘左上角到键），让底部的“INSERT”字样消失（如果按一次<ESC>，字样没有消失，可以再按一次）。在然后输入":w"命令即可。

![](http://o8l6oohcu.qnssl.com/hi-vim:save-1.png)

保存成功，底部提示 27 个字符被写入。如果需要退出 Vim 则使用`:q` 命令即可。

#### 普通模式(NORMAL)和插入模式(INSERT)

刚刚我们简单的创建了一个文件。

其中我们涉及到了 Vim 最重要的一个特性——模式。Vim 是一个多模式编辑器。刚打开 Vim 的时候处于`普通模式(NORMAL)`（也有叫做命令模式的），这个时候可以输入很多命令，比如我们使用的`:e`，`:w`，`:q`这些。在这个模式下，键盘的上的按键并不是用于字符，而是执行各种操作。然后我们按了`i`之后则进入了`插入模式(INSERT)`，插入模式下在 Vim 的底部有"INSERT"的文字提示。插入模式下的 Vim 就和记事本差不多了，按键盘上的按键则输入相应字符。

其中在普通模式`i`可以进入插入模式，插入模式下按`<ESC>`回到普通模式。

#### 普通模式进入插入模式的方法

除了上面的使用`i`键进入插入模式还有其他的方法，我把它简单记作 AISO(a is o)，下面挨着分析它们的用法(所有按键大小写功能都不同)。

- a：会让光标向后移动一个字符，然后进入插入模式。 如普通模式下显示的内容是这样”abc[d]ef“，光标在字符d上，按下a后会成为这样"abcd[e]f"并进入到插入模式，如果你此时输入g，则显示成这样“abcdg[e]f”。即当你需要在当前位置的后面插入字符时，可以按a进入插入模式。

  A：会将光标移动该行的最后一个字符后面，然后进入插入模式。当你需要在行尾插入字符时可以选中A。

- I (Insert)

  i：直接进入插入模式，光标不变。最常用的操作，当你需要在当前位置插入字符的时候，使用i。

  I：光标移动到该行第一个非空白字符，然后进入插入模式。与A的功能相反。

- S (Substute)

  s: 会删除掉当前光标所在的字符，然后进入插入模式。

  S: 会删除掉当前光标所在的行，然后进入插入模式。

- O

  o: 在当前行下侧开启新的一行，光标位于行首，进入插入模式。

  O：在当前行上侧开启新的一行，光标位于行首，进入插入模式。


#### 退回普通模式

如何从插入模式返回到普通模式，最常用的是按 `<ESC> `键，另外`CTRL+[`也可以。

注意：有时候按一次<ESC>无法返回普通模式，比如在试图模式（这个以后会讲到）下，一般是因为当前还有其他正在进行中的操作，这个时候多按几次先退出当前操作，然后就可以回到普通模式了。


